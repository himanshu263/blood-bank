<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appointments - LifeStream Blood Bank</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="../css/patient-dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Appointments page specific styles */
        .appointments-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .appointment-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .appointment-filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .appointment-filter-label {
            font-weight: 500;
            color: #495057;
            font-size: 0.9rem;
        }
        
        .appointment-filter-select {
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
            color: #495057;
            background-color: #fff;
        }
        
        .appointment-search {
            margin-left: auto;
            position: relative;
        }
        
        .appointment-search input {
            padding: 8px 15px 8px 35px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
            width: 250px;
        }
        
        .appointment-search i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
        }
        
        .appointment-card {
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .appointment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .appointment-header {
            padding: 20px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .appointment-id {
            font-weight: 600;
            color: #343a40;
            font-size: 1.1rem;
            margin: 0;
        }
        
        .appointment-date {
            color: #6c757d;
            font-size: 0.9rem;
            margin: 0;
        }
        
        .appointment-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            text-align: center;
        }
        
        .appointment-status.upcoming {
            background-color: #cce5ff;
            color: #004085;
        }
        
        .appointment-status.completed {
            background-color: #d4edda;
            color: #155724;
        }
        
        .appointment-status.cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .appointment-status.rescheduled {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .appointment-body {
            padding: 20px;
        }
        
        .appointment-info {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .appointment-info-item {
            flex: 1;
            min-width: 150px;
        }
        
        .appointment-info-label {
            font-weight: 500;
            color: #6c757d;
            font-size: 0.85rem;
            margin: 0 0 5px;
        }
        
        .appointment-info-value {
            color: #343a40;
            font-size: 0.95rem;
            margin: 0;
        }
        
        .appointment-time {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 5px;
        }
        
        .appointment-time i {
            color: var(--primary-color);
        }
        
        .appointment-location {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 5px;
        }
        
        .appointment-location i {
            color: var(--primary-color);
        }
        
        .appointment-notes {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }
        
        .appointment-notes-label {
            font-weight: 500;
            color: #495057;
            margin: 0 0 10px;
        }
        
        .appointment-notes-text {
            color: #6c757d;
            font-size: 0.95rem;
            line-height: 1.5;
            margin: 0;
        }
        
        .appointment-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .appointment-action-btn {
            padding: 8px 15px;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            border: none;
        }
        
        .appointment-action-btn.primary {
            background: var(--primary-color);
            color: white;
        }
        
        .appointment-action-btn.primary:hover {
            background: var(--primary-dark);
        }
        
        .appointment-action-btn.secondary {
            background: #6c757d;
            color: white;
        }
        
        .appointment-action-btn.secondary:hover {
            background: #5a6268;
        }
        
        .appointment-action-btn.outline {
            background: transparent;
            border: 1px solid #ced4da;
            color: #495057;
        }
        
        .appointment-action-btn.outline:hover {
            background: #f8f9fa;
        }
        
        .appointment-action-btn.danger {
            background: #dc3545;
            color: white;
        }
        
        .appointment-action-btn.danger:hover {
            background: #c82333;
        }
        
        .appointment-empty {
            text-align: center;
            padding: 50px 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .appointment-empty-icon {
            font-size: 3rem;
            color: #e9ecef;
            margin-bottom: 20px;
        }
        
        .appointment-empty-title {
            font-weight: 600;
            color: #343a40;
            margin: 0 0 10px;
        }
        
        .appointment-empty-text {
            color: #6c757d;
            margin: 0 0 20px;
        }
        
        .appointment-empty-btn {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 10px 20px;
            background: var(--primary-color);
            color: white;
            border-radius: 5px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .appointment-empty-btn:hover {
            background: var(--primary-dark);
        }
        
        .appointment-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .appointment-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .appointment-modal-content {
            background: #fff;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        
        .appointment-modal.active .appointment-modal-content {
            transform: translateY(0);
        }
        
        .appointment-modal-header {
            padding: 20px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .appointment-modal-title {
            font-weight: 600;
            color: #343a40;
            margin: 0;
        }
        
        .appointment-modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #6c757d;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .appointment-modal-close:hover {
            color: #343a40;
        }
        
        .appointment-modal-body {
            padding: 20px;
        }
        
        .appointment-modal-footer {
            padding: 20px;
            border-top: 1px solid #e9ecef;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .appointment-form-group {
            margin-bottom: 20px;
        }
        
        .appointment-form-label {
            display: block;
            font-weight: 500;
            color: #495057;
            margin-bottom: 8px;
        }
        
        .appointment-form-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-size: 0.95rem;
            color: #495057;
        }
        
        .appointment-form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.25);
        }
        
        .appointment-form-select {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-size: 0.95rem;
            color: #495057;
            background-color: #fff;
        }
        
        .appointment-form-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.25);
        }
        
        .appointment-form-textarea {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-size: 0.95rem;
            color: #495057;
            resize: vertical;
            min-height: 100px;
        }
        
        .appointment-form-textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.25);
        }
        
        .appointment-date-time {
            display: flex;
            gap: 15px;
        }
        
        .appointment-date-time > div {
            flex: 1;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-top: 20px;
        }
        
        .pagination-btn {
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ced4da;
            border-radius: 5px;
            background: #fff;
            color: #495057;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .pagination-btn:hover {
            background: #f8f9fa;
        }
        
        .pagination-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .pagination-btn.next,
        .pagination-btn.prev {
            width: auto;
            padding: 0 15px;
        }
        
        @media (max-width: 768px) {
            .appointment-filters {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .appointment-search {
                margin-left: 0;
                width: 100%;
            }
            
            .appointment-search input {
                width: 100%;
            }
            
            .appointment-date-time {
                flex-direction: column;
            }
        }
    </style>
</head>
<body class="dashboard-body">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="../images/logo.svg" alt="LifeStream Logo">
            <h2>LifeStream</h2>
        </div>
        <div class="admin-profile">
            <div class="admin-avatar">
                <img src="../images/patient-avatar.jpg" alt="Patient Avatar">
            </div>
            <div class="admin-info">
                <h3>Sarah Johnson</h3>
                <p>Patient</p>
            </div>
        </div>
        <nav class="sidebar-nav">
            <ul>
                <li>
                    <a href="dashboard.html">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="profile.html">
                        <i class="fas fa-user"></i>
                        <span>My Profile</span>
                    </a>
                </li>
                <li>
                    <a href="blood-requests.html">
                        <i class="fas fa-clipboard-list"></i>
                        <span>Blood Requests</span>
                    </a>
                </li>
                <li>
                    <a href="medical-history.html">
                        <i class="fas fa-notes-medical"></i>
                        <span>Medical History</span>
                    </a>
                </li>
                <li class="active">
                    <a href="appointments.html">
                        <i class="fas fa-calendar-check"></i>
                        <span>Appointments</span>
                    </a>
                </li>
                <li>
                    <a href="hospitals.html">
                        <i class="fas fa-hospital"></i>
                        <span>Hospitals</span>
                    </a>
                </li>
                <li>
                    <a href="messages.html">
                        <i class="fas fa-envelope"></i>
                        <span>Messages</span>
                    </a>
                </li>
                <li>
                    <a href="settings.html">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </a>
                </li>
                <li class="logout">
                    <a href="../login.html">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Navigation -->
        <header class="top-nav">
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Search...">
                <button><i class="fas fa-search"></i></button>
            </div>
            <div class="top-nav-right">
                <div class="notification-bell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-count">3</span>
                    <div class="notification-dropdown">
                        <div class="notification-header">
                            <h3>Notifications</h3>
                            <a href="#">Mark all as read</a>
                        </div>
                        <div class="notification-list">
                            <div class="notification-item unread">
                                <div class="notification-icon emergency">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="notification-content">
                                    <p>Your blood request #REQ-1234 has been approved</p>
                                    <span class="notification-time">2 hours ago</span>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <div class="notification-icon">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <div class="notification-content">
                                    <p>Appointment reminder: Tomorrow at 10:00 AM</p>
                                    <span class="notification-time">5 hours ago</span>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <div class="notification-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="notification-content">
                                    <p>New message from Dr. Williams</p>
                                    <span class="notification-time">Yesterday</span>
                                </div>
                            </div>
                        </div>
                        <div class="notification-footer">
                            <a href="notifications.html">View all notifications</a>
                        </div>
                    </div>
                </div>
                <div class="admin-dropdown">
                    <div class="admin-dropdown-toggle">
                        <img src="../images/patient-avatar.jpg" alt="Patient Avatar">
                        <span>Sarah Johnson</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="admin-dropdown-menu">
                        <a href="profile.html"><i class="fas fa-user"></i> Profile</a>
                        <a href="settings.html"><i class="fas fa-cog"></i> Settings</a>
                        <a href="../login.html"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="dashboard-content">
            <div class="page-header">
                <h1>Appointments</h1>
                <p>View and manage your medical appointments.</p>
            </div>

            <!-- Action Button -->
            <div class="action-buttons">
                <button class="action-button" id="schedule-appointment-btn">
                    <i class="fas fa-plus"></i>
                    <span>Schedule Appointment</span>
                </button>
            </div>

            <!-- Appointments Filters -->
            <div class="appointment-filters">
                <div class="appointment-filter-group">
                    <span class="appointment-filter-label">Status:</span>
                    <select class="appointment-filter-select" id="status-filter">
                        <option value="all">All Statuses</option>
                        <option value="upcoming">Upcoming</option>
                        <option value="completed">Completed</option>
                        <option value="cancelled">Cancelled</option>
                        <option value="rescheduled">Rescheduled</option>
                    </select>
                </div>
                <div class="appointment-filter-group">
                    <span class="appointment-filter-label">Type:</span>
                    <select class="appointment-filter-select" id="type-filter">
                        <option value="all">All Types</option>
                        <option value="consultation">Consultation</option>
                        <option value="transfusion">Blood Transfusion</option>
                        <option value="checkup">Regular Checkup</option>
                        <option value="test">Blood Test</option>
                    </select>
                </div>
                <div class="appointment-filter-group">
                    <span class="appointment-filter-label">Date:</span>
                    <select class="appointment-filter-select" id="date-filter">
                        <option value="all">All Time</option>
                        <option value="upcoming">Upcoming</option>
                        <option value="past">Past</option>
                        <option value="this-week">This Week</option>
                        <option value="this-month">This Month</option>
                        <option value="last-month">Last Month</option>
                    </select>
                </div>
                <div class="appointment-search">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search appointments..." id="appointment-search">
                </div>
            </div>

            <!-- Appointments Container -->
            <div class="appointments-container" id="appointments-container">
                <!-- Appointment Card 1 - Upcoming -->
                <div class="appointment-card" data-status="upcoming" data-type="transfusion">
                    <div class="appointment-header">
                        <div>
                            <h3 class="appointment-id">Appointment #APT-1234</h3>
                            <p class="appointment-date">July 20, 2023</p>
                        </div>
                        <div class="appointment-status upcoming">Upcoming</div>
                    </div>
                    <div class="appointment-body">
                        <div class="appointment-info">
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Type</p>
                                <p class="appointment-info-value">Blood Transfusion</p>
                            </div>
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Doctor</p>
                                <p class="appointment-info-value">Dr. Emily Chen</p>
                            </div>
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Department</p>
                                <p class="appointment-info-value">Hematology</p>
                            </div>
                        </div>
                        
                        <div class="appointment-time">
                            <i class="fas fa-clock"></i>
                            <span>10:00 AM - 11:30 AM</span>
                        </div>
                        
                        <div class="appointment-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Central City Medical Center, Room 305</span>
                        </div>
                        
                        <div class="appointment-notes">
                            <h4 class="appointment-notes-label">Notes</h4>
                            <p class="appointment-notes-text">Regular blood transfusion for Thalassemia Major. Please bring your medical card and arrive 15 minutes before the appointment.</p>
                        </div>
                        
                        <div class="appointment-actions">
                            <button class="appointment-action-btn outline view-details" data-appointment-id="APT-1234">
                                <i class="fas fa-eye"></i>
                                <span>View Details</span>
                            </button>
                            <button class="appointment-action-btn outline reschedule-appointment" data-appointment-id="APT-1234">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Reschedule</span>
                            </button>
                            <button class="appointment-action-btn danger cancel-appointment" data-appointment-id="APT-1234">
                                <i class="fas fa-times"></i>
                                <span>Cancel</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Appointment Card 2 - Upcoming -->
                <div class="appointment-card" data-status="upcoming" data-type="consultation">
                    <div class="appointment-header">
                        <div>
                            <h3 class="appointment-id">Appointment #APT-1235</h3>
                            <p class="appointment-date">July 25, 2023</p>
                        </div>
                        <div class="appointment-status upcoming">Upcoming</div>
                    </div>
                    <div class="appointment-body">
                        <div class="appointment-info">
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Type</p>
                                <p class="appointment-info-value">Consultation</p>
                            </div>
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Doctor</p>
                                <p class="appointment-info-value">Dr. Robert Williams</p>
                            </div>
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Department</p>
                                <p class="appointment-info-value">Hematology</p>
                            </div>
                        </div>
                        
                        <div class="appointment-time">
                            <i class="fas fa-clock"></i>
                            <span>2:30 PM - 3:00 PM</span>
                        </div>
                        
                        <div class="appointment-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Central City Medical Center, Room 210</span>
                        </div>
                        
                        <div class="appointment-notes">
                            <h4 class="appointment-notes-label">Notes</h4>
                            <p class="appointment-notes-text">Follow-up consultation to discuss recent blood test results and treatment plan.</p>
                        </div>
                        
                        <div class="appointment-actions">
                            <button class="appointment-action-btn outline view-details" data-appointment-id="APT-1235">
                                <i class="fas fa-eye"></i>
                                <span>View Details</span>
                            </button>
                            <button class="appointment-action-btn outline reschedule-appointment" data-appointment-id="APT-1235">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Reschedule</span>
                            </button>
                            <button class="appointment-action-btn danger cancel-appointment" data-appointment-id="APT-1235">
                                <i class="fas fa-times"></i>
                                <span>Cancel</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Appointment Card 3 - Completed -->
                <div class="appointment-card" data-status="completed" data-type="test">
                    <div class="appointment-header">
                        <div>
                            <h3 class="appointment-id">Appointment #APT-1230</h3>
                            <p class="appointment-date">July 10, 2023</p>
                        </div>
                        <div class="appointment-status completed">Completed</div>
                    </div>
                    <div class="appointment-body">
                        <div class="appointment-info">
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Type</p>
                                <p class="appointment-info-value">Blood Test</p>
                            </div>
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Doctor</p>
                                <p class="appointment-info-value">Dr. Emily Chen</p>
                            </div>
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Department</p>
                                <p class="appointment-info-value">Laboratory</p>
                            </div>
                        </div>
                        
                        <div class="appointment-time">
                            <i class="fas fa-clock"></i>
                            <span>9:00 AM - 9:30 AM</span>
                        </div>
                        
                        <div class="appointment-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Central City Medical Center, Laboratory</span>
                        </div>
                        
                        <div class="appointment-notes">
                            <h4 class="appointment-notes-label">Notes</h4>
                            <p class="appointment-notes-text">Regular blood test completed. Results have been uploaded to your medical records.</p>
                        </div>
                        
                        <div class="appointment-actions">
                            <button class="appointment-action-btn outline view-details" data-appointment-id="APT-1230">
                                <i class="fas fa-eye"></i>
                                <span>View Details</span>
                            </button>
                            <button class="appointment-action-btn outline">
                                <i class="fas fa-file-medical"></i>
                                <span>View Results</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Appointment Card 4 - Cancelled -->
                <div class="appointment-card" data-status="cancelled" data-type="checkup">
                    <div class="appointment-header">
                        <div>
                            <h3 class="appointment-id">Appointment #APT-1228</h3>
                            <p class="appointment-date">July 5, 2023</p>
                        </div>
                        <div class="appointment-status cancelled">Cancelled</div>
                    </div>
                    <div class="appointment-body">
                        <div class="appointment-info">
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Type</p>
                                <p class="appointment-info-value">Regular Checkup</p>
                            </div>
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Doctor</p>
                                <p class="appointment-info-value">Dr. Robert Williams</p>
                            </div>
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Department</p>
                                <p class="appointment-info-value">General Medicine</p>
                            </div>
                        </div>
                        
                        <div class="appointment-time">
                            <i class="fas fa-clock"></i>
                            <span>11:00 AM - 11:30 AM</span>
                        </div>
                        
                        <div class="appointment-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Central City Medical Center, Room 105</span>
                        </div>
                        
                        <div class="appointment-notes">
                            <h4 class="appointment-notes-label">Cancellation Reason</h4>
                            <p class="appointment-notes-text">Cancelled by patient due to personal reasons.</p>
                        </div>
                        
                        <div class="appointment-actions">
                            <button class="appointment-action-btn outline view-details" data-appointment-id="APT-1228">
                                <i class="fas fa-eye"></i>
                                <span>View Details</span>
                            </button>
                            <button class="appointment-action-btn primary">
                                <i class="fas fa-redo"></i>
                                <span>Reschedule</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Appointment Card 5 - Rescheduled -->
                <div class="appointment-card" data-status="rescheduled" data-type="transfusion">
                    <div class="appointment-header">
                        <div>
                            <h3 class="appointment-id">Appointment #APT-1226</h3>
                            <p class="appointment-date">July 30, 2023 (Rescheduled from July 15)</p>
                        </div>
                        <div class="appointment-status rescheduled">Rescheduled</div>
                    </div>
                    <div class="appointment-body">
                        <div class="appointment-info">
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Type</p>
                                <p class="appointment-info-value">Blood Transfusion</p>
                            </div>
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Doctor</p>
                                <p class="appointment-info-value">Dr. Emily Chen</p>
                            </div>
                            <div class="appointment-info-item">
                                <p class="appointment-info-label">Department</p>
                                <p class="appointment-info-value">Hematology</p>
                            </div>
                        </div>
                        
                        <div class="appointment-time">
                            <i class="fas fa-clock"></i>
                            <span>1:00 PM - 2:30 PM</span>
                        </div>
                        
                        <div class="appointment-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Central City Medical Center, Room 305</span>
                        </div>
                        
                        <div class="appointment-notes">
                            <h4 class="appointment-notes-label">Rescheduling Reason</h4>
                            <p class="appointment-notes-text">Rescheduled due to doctor's unavailability on the original date.</p>
                        </div>
                        
                        <div class="appointment-actions">
                            <button class="appointment-action-btn outline view-details" data-appointment-id="APT-1226">
                                <i class="fas fa-eye"></i>
                                <span>View Details</span>
                            </button>
                            <button class="appointment-action-btn outline reschedule-appointment" data-appointment-id="APT-1226">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Reschedule</span>
                            </button>
                            <button class="appointment-action-btn danger cancel-appointment" data-appointment-id="APT-1226">
                                <i class="fas fa-times"></i>
                                <span>Cancel</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Pagination -->
            <div class="pagination">
                <button class="pagination-btn prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="pagination-btn active">1</button>
                <button class="pagination-btn">2</button>
                <button class="pagination-btn">3</button>
                <button class="pagination-btn next">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            
            <!-- Appointment Details Modal -->
            <div class="appointment-modal" id="appointment-details-modal">
                <div class="appointment-modal-content">
                    <div class="appointment-modal-header">
                        <h3 class="appointment-modal-title">Appointment Details</h3>
                        <button class="appointment-modal-close">&times;</button>
                    </div>
                    <div class="appointment-modal-body" id="appointment-modal-body">
                        <!-- Modal content will be dynamically populated -->
                    </div>
                    <div class="appointment-modal-footer">
                        <button class="appointment-action-btn outline" id="close-details-modal">Close</button>
                    </div>
                </div>
            </div>
            
            <!-- Schedule Appointment Modal -->
            <div class="appointment-modal" id="schedule-appointment-modal">
                <div class="appointment-modal-content">
                    <div class="appointment-modal-header">
                        <h3 class="appointment-modal-title">Schedule New Appointment</h3>
                        <button class="appointment-modal-close">&times;</button>
                    </div>
                    <div class="appointment-modal-body">
                        <form id="schedule-appointment-form">
                            <div class="appointment-form-group">
                                <label class="appointment-form-label">Appointment Type</label>
                                <select class="appointment-form-select" id="appointment-type" required>
                                    <option value="">Select Type</option>
                                    <option value="consultation">Consultation</option>
                                    <option value="transfusion">Blood Transfusion</option>
                                    <option value="checkup">Regular Checkup</option>
                                    <option value="test">Blood Test</option>
                                </select>
                            </div>
                            
                            <div class="appointment-form-group">
                                <label class="appointment-form-label">Doctor</label>
                                <select class="appointment-form-select" id="appointment-doctor" required>
                                    <option value="">Select Doctor</option>
                                    <option value="dr-chen">Dr. Emily Chen (Hematology)</option>
                                    <option value="dr-williams">Dr. Robert Williams (General Medicine)</option>
                                    <option value="dr-patel">Dr. Aisha Patel (Hematology)</option>
                                    <option value="dr-johnson">Dr. Michael Johnson (Cardiology)</option>
                                </select>
                            </div>
                            
                            <div class="appointment-date-time">
                                <div class="appointment-form-group">
                                    <label class="appointment-form-label">Date</label>
                                    <input type="date" class="appointment-form-input" id="appointment-date" required min="2023-07-19">
                                </div>
                                
                                <div class="appointment-form-group">
                                    <label class="appointment-form-label">Time</label>
                                    <select class="appointment-form-select" id="appointment-time" required>
                                        <option value="">Select Time</option>
                                        <option value="09:00">9:00 AM</option>
                                        <option value="09:30">9:30 AM</option>
                                        <option value="10:00">10:00 AM</option>
                                        <option value="10:30">10:30 AM</option>
                                        <option value="11:00">11:00 AM</option>
                                        <option value="11:30">11:30 AM</option>
                                        <option value="13:00">1:00 PM</option>
                                        <option value="13:30">1:30 PM</option>
                                        <option value="14:00">2:00 PM</option>
                                        <option value="14:30">2:30 PM</option>
                                        <option value="15:00">3:00 PM</option>
                                        <option value="15:30">3:30 PM</option>
                                        <option value="16:00">4:00 PM</option>
                                        <option value="16:30">4:30 PM</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="appointment-form-group">
                                <label class="appointment-form-label">Reason for Appointment</label>
                                <textarea class="appointment-form-textarea" id="appointment-reason" placeholder="Please provide details about your appointment reason" required></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="appointment-modal-footer">
                        <button class="appointment-action-btn outline" id="close-schedule-modal">Cancel</button>
                        <button class="appointment-action-btn primary" id="submit-appointment">Schedule</button>
                    </div>
                </div>
            </div>
            
            <!-- Reschedule Appointment Modal -->
            <div class="appointment-modal" id="reschedule-appointment-modal">
                <div class="appointment-modal-content">
                    <div class="appointment-modal-header">
                        <h3 class="appointment-modal-title">Reschedule Appointment</h3>
                        <button class="appointment-modal-close">&times;</button>
                    </div>
                    <div class="appointment-modal-body">
                        <form id="reschedule-appointment-form">
                            <div class="appointment-form-group">
                                <label class="appointment-form-label">Current Appointment</label>
                                <p id="current-appointment-info">Appointment #APT-1234 - July 20, 2023 at 10:00 AM</p>
                            </div>
                            
                            <div class="appointment-date-time">
                                <div class="appointment-form-group">
                                    <label class="appointment-form-label">New Date</label>
                                    <input type="date" class="appointment-form-input" id="reschedule-date" required min="2023-07-19">
                                </div>
                                
                                <div class="appointment-form-group">
                                    <label class="appointment-form-label">New Time</label>
                                    <select class="appointment-form-select" id="reschedule-time" required>
                                        <option value="">Select Time</option>
                                        <option value="09:00">9:00 AM</option>
                                        <option value="09:30">9:30 AM</option>
                                        <option value="10:00">10:00 AM</option>
                                        <option value="10:30">10:30 AM</option>
                                        <option value="11:00">11:00 AM</option>
                                        <option value="11:30">11:30 AM</option>
                                        <option value="13:00">1:00 PM</option>
                                        <option value="13:30">1:30 PM</option>
                                        <option value="14:00">2:00 PM</option>
                                        <option value="14:30">2:30 PM</option>
                                        <option value="15:00">3:00 PM</option>
                                        <option value="15:30">3:30 PM</option>
                                        <option value="16:00">4:00 PM</option>
                                        <option value="16:30">4:30 PM</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="appointment-form-group">
                                <label class="appointment-form-label">Reason for Rescheduling</label>
                                <textarea class="appointment-form-textarea" id="reschedule-reason" placeholder="Please provide a reason for rescheduling" required></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="appointment-modal-footer">
                        <button class="appointment-action-btn outline" id="close-reschedule-modal">Cancel</button>
                        <button class="appointment-action-btn primary" id="submit-reschedule">Reschedule</button>
                    </div>
                </div>
            </div>
            
            <!-- Cancel Appointment Modal -->
            <div class="appointment-modal" id="cancel-appointment-modal">
                <div class="appointment-modal-content">
                    <div class="appointment-modal-header">
                        <h3 class="appointment-modal-title">Cancel Appointment</h3>
                        <button class="appointment-modal-close">&times;</button>
                    </div>
                    <div class="appointment-modal-body">
                        <form id="cancel-appointment-form">
                            <div class="appointment-form-group">
                                <label class="appointment-form-label">Appointment</label>
                                <p id="cancel-appointment-info">Appointment #APT-1234 - July 20, 2023 at 10:00 AM</p>
                            </div>
                            
                            <div class="appointment-form-group">
                                <label class="appointment-form-label">Reason for Cancellation</label>
                                <textarea class="appointment-form-textarea" id="cancel-reason" placeholder="Please provide a reason for cancellation" required></textarea>
                            </div>
                            
                            <div class="appointment-form-group">
                                <p class="appointment-notes-text">Note: Cancellations made less than 24 hours before the appointment may incur a cancellation fee as per our policy.</p>
                            </div>
                        </form>
                    </div>
                    <div class="appointment-modal-footer">
                        <button class="appointment-action-btn outline" id="close-cancel-modal">Back</button>
                        <button class="appointment-action-btn danger" id="submit-cancel">Cancel Appointment</button>
                    </div>
                </div>
            </div>
            
            <!-- Confirmation Modal -->
            <div class="appointment-modal" id="confirmation-modal">
                <div class="appointment-modal-content">
                    <div class="appointment-modal-header">
                        <h3 class="appointment-modal-title">Confirmation</h3>
                        <button class="appointment-modal-close">&times;</button>
                    </div>
                    <div class="appointment-modal-body">
                        <div id="confirmation-message">
                            <!-- Confirmation message will be dynamically populated -->
                        </div>
                    </div>
                    <div class="appointment-modal-footer">
                        <button class="appointment-action-btn primary" id="close-confirmation">OK</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="../js/dashboard.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize mobile menu toggle
            const menuToggle = document.querySelector('.menu-toggle');
            const sidebar = document.querySelector('.sidebar');
            
            if (menuToggle && sidebar) {
                menuToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('active');
                });
            }
            
            // Initialize notification system
            const notificationBell = document.querySelector('.notification-bell');
            const notificationDropdown = document.querySelector('.notification-dropdown');
            
            if (notificationBell && notificationDropdown) {
                notificationBell.addEventListener('click', function(e) {
                    e.stopPropagation();
                    notificationDropdown.classList.toggle('active');
                });
                
                document.addEventListener('click', function() {
                    if (notificationDropdown.classList.contains('active')) {
                        notificationDropdown.classList.remove('active');
                    }
                });
                
                notificationDropdown.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            }
            
            // Initialize admin dropdown
            const adminDropdownToggle = document.querySelector('.admin-dropdown-toggle');
            const adminDropdownMenu = document.querySelector('.admin-dropdown-menu');
            
            if (adminDropdownToggle && adminDropdownMenu) {
                adminDropdownToggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    adminDropdownMenu.classList.toggle('active');
                });
                
                document.addEventListener('click', function() {
                    if (adminDropdownMenu.classList.contains('active')) {
                        adminDropdownMenu.classList.remove('active');
                    }
                });
                
                adminDropdownMenu.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            }
            
            // Initialize appointment filtering
            const statusFilter = document.getElementById('status-filter');
            const typeFilter = document.getElementById('type-filter');
            const dateFilter = document.getElementById('date-filter');
            const appointmentSearch = document.getElementById('appointment-search');
            const appointmentCards = document.querySelectorAll('.appointment-card');
            
            function filterAppointments() {
                const statusValue = statusFilter.value;
                const typeValue = typeFilter.value;
                const searchValue = appointmentSearch.value.toLowerCase();
                
                appointmentCards.forEach(card => {
                    const cardStatus = card.getAttribute('data-status');
                    const cardType = card.getAttribute('data-type');
                    const cardText = card.textContent.toLowerCase();
                    
                    let statusMatch = statusValue === 'all' || cardStatus === statusValue;
                    let typeMatch = typeValue === 'all' || cardType === typeValue;
                    let searchMatch = searchValue === '' || cardText.includes(searchValue);
                    
                    if (statusMatch && typeMatch && searchMatch) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
                
                // Check if no results
                checkEmptyResults();
            }
            
            function checkEmptyResults() {
                let visibleCards = 0;
                appointmentCards.forEach(card => {
                    if (card.style.display !== 'none') {
                        visibleCards++;
                    }
                });
                
                const appointmentsContainer = document.getElementById('appointments-container');
                const existingEmptyMessage = document.querySelector('.appointment-empty');
                
                if (visibleCards === 0 && !existingEmptyMessage) {
                    const emptyMessage = document.createElement('div');
                    emptyMessage.className = 'appointment-empty';
                    emptyMessage.innerHTML = `
                        <div class="appointment-empty-icon">
                            <i class="fas fa-calendar-times"></i>
                        </div>
                        <h3 class="appointment-empty-title">No appointments found</h3>
                        <p class="appointment-empty-text">Try adjusting your filters or search criteria.</p>
                        <button class="appointment-empty-btn" id="reset-filters">
                            <i class="fas fa-redo"></i>
                            <span>Reset Filters</span>
                        </button>
                    `;
                    appointmentsContainer.appendChild(emptyMessage);
                    
                    document.getElementById('reset-filters').addEventListener('click', resetFilters);
                } else if (visibleCards > 0 && existingEmptyMessage) {
                    existingEmptyMessage.remove();
                }
            }
            
            function resetFilters() {
                statusFilter.value = 'all';
                typeFilter.value = 'all';
                dateFilter.value = 'all';
                appointmentSearch.value = '';
                filterAppointments();
            }
            
            statusFilter.addEventListener('change', filterAppointments);
            typeFilter.addEventListener('change', filterAppointments);
            dateFilter.addEventListener('change', filterAppointments);
            appointmentSearch.addEventListener('input', filterAppointments);
            
            // Initialize appointment details modal
            const detailsModal = document.getElementById('appointment-details-modal');
            const modalBody = document.getElementById('appointment-modal-body');
            const closeDetailsModal = document.getElementById('close-details-modal');
            const detailsModalClose = document.querySelector('#appointment-details-modal .appointment-modal-close');
            const viewDetailsButtons = document.querySelectorAll('.view-details');
            
            viewDetailsButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const appointmentId = this.getAttribute('data-appointment-id');
                    showAppointmentDetails(appointmentId);
                });
            });
            
            function showAppointmentDetails(appointmentId) {
                // In a real application, you would fetch the appointment details from the server
                // For this demo, we'll use hardcoded data
                let appointmentDetails;
                
                if (appointmentId === 'APT-1234') {
                    appointmentDetails = {
                        id: 'APT-1234',
                        status: 'Upcoming',
                        date: 'July 20, 2023',
                        time: '10:00 AM - 11:30 AM',
                        type: 'Blood Transfusion',
                        doctor: 'Dr. Emily Chen',
                        department: 'Hematology',
                        location: 'Central City Medical Center, Room 305',
                        notes: 'Regular blood transfusion for Thalassemia Major. Please bring your medical card and arrive 15 minutes before the appointment.',
                        patientInstructions: 'Please do not eat heavy meals 2 hours before the transfusion. Bring a list of any medications you are currently taking.',
                        relatedRequest: 'Blood Request #REQ-1234',
                        timeline: [
                            { date: 'July 15, 2023 09:15 AM', event: 'Appointment scheduled', user: 'Sarah Johnson' },
                            { date: 'July 15, 2023 11:30 AM', event: 'Appointment confirmed', user: 'Dr. Emily Chen' },
                            { date: 'July 18, 2023 10:00 AM', event: 'Reminder sent', user: 'System' }
                        ]
                    };
                } else if (appointmentId === 'APT-1235') {
                    appointmentDetails = {
                        id: 'APT-1235',
                        status: 'Upcoming',
                        date: 'July 25, 2023',
                        time: '2:30 PM - 3:00 PM',
                        type: 'Consultation',
                        doctor: 'Dr. Robert Williams',
                        department: 'Hematology',
                        location: 'Central City Medical Center, Room 210',
                        notes: 'Follow-up consultation to discuss recent blood test results and treatment plan.',
                        patientInstructions: 'Please bring your recent blood test results and a list of any questions you may have.',
                        timeline: [
                            { date: 'July 17, 2023 02:30 PM', event: 'Appointment scheduled', user: 'Sarah Johnson' },
                            { date: 'July 17, 2023 03:45 PM', event: 'Appointment confirmed', user: 'Dr. Robert Williams' }
                        ]
                    };
                } else if (appointmentId === 'APT-1230') {
                    appointmentDetails = {
                        id: 'APT-1230',
                        status: 'Completed',
                        date: 'July 10, 2023',
                        time: '9:00 AM - 9:30 AM',
                        type: 'Blood Test',
                        doctor: 'Dr. Emily Chen',
                        department: 'Laboratory',
                        location: 'Central City Medical Center, Laboratory',
                        notes: 'Regular blood test completed. Results have been uploaded to your medical records.',
                        patientInstructions: 'Please fast for at least 8 hours before the blood test.',
                        results: 'Blood test results are available in your medical records.',
                        timeline: [
                            { date: 'July 5, 2023 10:15 AM', event: 'Appointment scheduled', user: 'Sarah Johnson' },
                            { date: 'July 5, 2023 11:30 AM', event: 'Appointment confirmed', user: 'Laboratory' },
                            { date: 'July 10, 2023 09:00 AM', event: 'Check-in', user: 'Sarah Johnson' },
                            { date: 'July 10, 2023 09:30 AM', event: 'Blood test completed', user: 'Laboratory Technician' },
                            { date: 'July 12, 2023 02:00 PM', event: 'Results uploaded', user: 'Laboratory' }
                        ]
                    };
                } else if (appointmentId === 'APT-1228') {
                    appointmentDetails = {
                        id: 'APT-1228',
                        status: 'Cancelled',
                        date: 'July 5, 2023',
                        time: '11:00 AM - 11:30 AM',
                        type: 'Regular Checkup',
                        doctor: 'Dr. Robert Williams',
                        department: 'General Medicine',
                        location: 'Central City Medical Center, Room 105',
                        notes: 'Cancelled by patient due to personal reasons.',
                        patientInstructions: 'No special instructions.',
                        timeline: [
                            { date: 'July 1, 2023 09:00 AM', event: 'Appointment scheduled', user: 'Sarah Johnson' },
                            { date: 'July 1, 2023 10:15 AM', event: 'Appointment confirmed', user: 'Dr. Robert Williams' },
                            { date: 'July 4, 2023 02:30 PM', event: 'Appointment cancelled', user: 'Sarah Johnson' }
                        ]
                    };
                } else if (appointmentId === 'APT-1226') {
                    appointmentDetails = {
                        id: 'APT-1226',
                        status: 'Rescheduled',
                        date: 'July 30, 2023 (Rescheduled from July 15)',
                        time: '1:00 PM - 2:30 PM',
                        type: 'Blood Transfusion',
                        doctor: 'Dr. Emily Chen',
                        department: 'Hematology',
                        location: 'Central City Medical Center, Room 305',
                        notes: 'Rescheduled due to doctor\'s unavailability on the original date.',
                        patientInstructions: 'Please do not eat heavy meals 2 hours before the transfusion. Bring a list of any medications you are currently taking.',
                        relatedRequest: 'Blood Request #REQ-1220',
                        timeline: [
                            { date: 'July 10, 2023 11:30 AM', event: 'Appointment scheduled', user: 'Sarah Johnson' },
                            { date: 'July 10, 2023 01:45 PM', event: 'Appointment confirmed', user: 'Dr. Emily Chen' },
                            { date: 'July 13, 2023 09:00 AM', event: 'Appointment rescheduled', user: 'Dr. Emily Chen' },
                            { date: 'July 13, 2023 10:30 AM', event: 'New appointment confirmed', user: 'Sarah Johnson' }
                        ]
                    };
                }
                
                // Populate modal with appointment details
                modalBody.innerHTML = `
                    <div class="appointment-info">
                        <div class="appointment-info-item">
                            <p class="appointment-info-label">Appointment ID</p>
                            <p class="appointment-info-value">${appointmentDetails.id}</p>
                        </div>
                        <div class="appointment-info-item">
                            <p class="appointment-info-label">Status</p>
                            <p class="appointment-info-value">
                                <span class="appointment-status ${appointmentDetails.status.toLowerCase()}">${appointmentDetails.status}</span>
                            </p>
                        </div>
                        <div class="appointment-info-item">
                            <p class="appointment-info-label">Type</p>
                            <p class="appointment-info-value">${appointmentDetails.type}</p>
                        </div>
                    </div>
                    
                    <div class="appointment-info">
                        <div class="appointment-info-item">
                            <p class="appointment-info-label">Date</p>
                            <p class="appointment-info-value">${appointmentDetails.date}</p>
                        </div>
                        <div class="appointment-info-item">
                            <p class="appointment-info-label">Time</p>
                            <p class="appointment-info-value">${appointmentDetails.time}</p>
                        </div>
                    </div>
                    
                    <div class="appointment-info">
                        <div class="appointment-info-item">
                            <p class="appointment-info-label">Doctor</p>
                            <p class="appointment-info-value">${appointmentDetails.doctor}</p>
                        </div>
                        <div class="appointment-info-item">
                            <p class="appointment-info-label">Department</p>
                            <p class="appointment-info-value">${appointmentDetails.department}</p>
                        </div>
                    </div>
                    
                    <div class="appointment-location">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>${appointmentDetails.location}</span>
                    </div>
                    
                    <div class="appointment-notes">
                        <h4 class="appointment-notes-label">Notes</h4>
                        <p class="appointment-notes-text">${appointmentDetails.notes}</p>
                    </div>
                    
                    <div class="appointment-notes">
                        <h4 class="appointment-notes-label">Patient Instructions</h4>
                        <p class="appointment-notes-text">${appointmentDetails.patientInstructions}</p>
                    </div>
                    
                    ${appointmentDetails.relatedRequest ? `
                    <div class="appointment-notes">
                        <h4 class="appointment-notes-label">Related Request</h4>
                        <p class="appointment-notes-text">${appointmentDetails.relatedRequest}</p>
                    </div>
                    ` : ''}
                    
                    ${appointmentDetails.results ? `
                    <div class="appointment-notes">
                        <h4 class="appointment-notes-label">Results</h4>
                        <p class="appointment-notes-text">${appointmentDetails.results}</p>
                    </div>
                    ` : ''}
                    
                    <div class="appointment-notes">
                        <h4 class="appointment-notes-label">Timeline</h4>
                        <div class="activity-timeline">
                            ${appointmentDetails.timeline.map(item => `
                                <div class="activity-item">
                                    <div class="activity-point"></div>
                                    <div class="activity-content">
                                        <p class="activity-time">${item.date}</p>
                                        <p class="activity-text">${item.event}</p>
                                        <p class="activity-user">By: ${item.user}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                
                detailsModal.classList.add('active');
            }
            
            closeDetailsModal.addEventListener('click', function() {
                detailsModal.classList.remove('active');
            });
            
            detailsModalClose.addEventListener('click', function() {
                detailsModal.classList.remove('active');
            });
            
            // Initialize schedule appointment modal
            const scheduleModal = document.getElementById('schedule-appointment-modal');
            const scheduleBtn = document.getElementById('schedule-appointment-btn');
            const closeScheduleModal = document.getElementById('close-schedule-modal');
            const scheduleModalClose = document.querySelector('#schedule-appointment-modal .appointment-modal-close');
            const submitAppointment = document.getElementById('submit-appointment');
            
            scheduleBtn.addEventListener('click', function() {
                scheduleModal.classList.add('active');
            });
            
            closeScheduleModal.addEventListener('click', function() {
                scheduleModal.classList.remove('active');
            });
            
            scheduleModalClose.addEventListener('click', function() {
                scheduleModal.classList.remove('active');
            });
            
            submitAppointment.addEventListener('click', function() {
                const appointmentType = document.getElementById('appointment-type').value;
                const appointmentDoctor = document.getElementById('appointment-doctor').value;
                const appointmentDate = document.getElementById('appointment-date').value;
                const appointmentTime = document.getElementById('appointment-time').value;
                const appointmentReason = document.getElementById('appointment-reason').value;
                
                if (!appointmentType || !appointmentDoctor || !appointmentDate || !appointmentTime || !appointmentReason) {
                    alert('Please fill in all required fields.');
                    return;
                }
                
                // In a real application, you would send this data to the server
                // For this demo, we'll just show a confirmation message
                scheduleModal.classList.remove('active');
                
                const confirmationModal = document.getElementById('confirmation-modal');
                const confirmationMessage = document.getElementById('confirmation-message');
                
                confirmationMessage.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 3rem; color: var(--primary-color); margin-bottom: 20px;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3 style="margin-bottom: 10px;">Appointment Scheduled Successfully</h3>
                        <p>Your appointment has been scheduled for ${formatDate(appointmentDate)} at ${formatTime(appointmentTime)}.</p>
                        <p style="margin-top: 20px;">A confirmation email has been sent to your registered email address.</p>
                    </div>
                `;
                
                confirmationModal.classList.add('active');
                
                // Reset form
                document.getElementById('schedule-appointment-form').reset();
            });
            
            // Initialize reschedule appointment modal
            const rescheduleModal = document.getElementById('reschedule-appointment-modal');
            const rescheduleButtons = document.querySelectorAll('.reschedule-appointment');
            const closeRescheduleModal = document.getElementById('close-reschedule-modal');
            const rescheduleModalClose = document.querySelector('#reschedule-appointment-modal .appointment-modal-close');
            const submitReschedule = document.getElementById('submit-reschedule');
            const currentAppointmentInfo = document.getElementById('current-appointment-info');
            
            rescheduleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const appointmentId = this.getAttribute('data-appointment-id');
                    const appointmentCard = this.closest('.appointment-card');
                    const appointmentDate = appointmentCard.querySelector('.appointment-date').textContent;
                    const appointmentTime = appointmentCard.querySelector('.appointment-time span').textContent;
                    
                    currentAppointmentInfo.textContent = `${appointmentId} - ${appointmentDate} at ${appointmentTime}`;
                    rescheduleModal.classList.add('active');
                });
            });
            
            closeRescheduleModal.addEventListener('click', function() {
                rescheduleModal.classList.remove('active');
            });
            
            rescheduleModalClose.addEventListener('click', function() {
                rescheduleModal.classList.remove('active');
            });
            
            submitReschedule.addEventListener('click', function() {
                const rescheduleDate = document.getElementById('reschedule-date').value;
                const rescheduleTime = document.getElementById('reschedule-time').value;
                const rescheduleReason = document.getElementById('reschedule-reason').value;
                
                if (!rescheduleDate || !rescheduleTime || !rescheduleReason) {
                    alert('Please fill in all required fields.');
                    return;
                }
                
                // In a real application, you would send this data to the server
                // For this demo, we'll just show a confirmation message
                rescheduleModal.classList.remove('active');
                
                const confirmationModal = document.getElementById('confirmation-modal');
                const confirmationMessage = document.getElementById('confirmation-message');
                
                confirmationMessage.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 3rem; color: var(--primary-color); margin-bottom: 20px;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3 style="margin-bottom: 10px;">Appointment Rescheduled Successfully</h3>
                        <p>Your appointment has been rescheduled for ${formatDate(rescheduleDate)} at ${formatTime(rescheduleTime)}.</p>
                        <p style="margin-top: 20px;">A confirmation email has been sent to your registered email address.</p>
                    </div>
                `;
                
                confirmationModal.classList.add('active');
                
                // Reset form
                document.getElementById('reschedule-appointment-form').reset();
            });
            
            // Initialize cancel appointment modal
            const cancelModal = document.getElementById('cancel-appointment-modal');
            const cancelButtons = document.querySelectorAll('.cancel-appointment');
            const closeCancelModal = document.getElementById('close-cancel-modal');
            const cancelModalClose = document.querySelector('#cancel-appointment-modal .appointment-modal-close');
            const submitCancel = document.getElementById('submit-cancel');
            const cancelAppointmentInfo = document.getElementById('cancel-appointment-info');
            
            cancelButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const appointmentId = this.getAttribute('data-appointment-id');
                    const appointmentCard = this.closest('.appointment-card');
                    const appointmentDate = appointmentCard.querySelector('.appointment-date').textContent;
                    const appointmentTime = appointmentCard.querySelector('.appointment-time span').textContent;
                    
                    cancelAppointmentInfo.textContent = `${appointmentId} - ${appointmentDate} at ${appointmentTime}`;
                    cancelModal.classList.add('active');
                });
            });
            
            closeCancelModal.addEventListener('click', function() {
                cancelModal.classList.remove('active');
            });
            
            cancelModalClose.addEventListener('click', function() {
                cancelModal.classList.remove('active');
            });
            
            submitCancel.addEventListener('click', function() {
                const cancelReason = document.getElementById('cancel-reason').value;
                
                if (!cancelReason) {
                    alert('Please provide a reason for cancellation.');
                    return;
                }
                
                // In a real application, you would send this data to the server
                // For this demo, we'll just show a confirmation message
                cancelModal.classList.remove('active');
                
                const confirmationModal = document.getElementById('confirmation-modal');
                const confirmationMessage = document.getElementById('confirmation-message');
                
                confirmationMessage.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 3rem; color: var(--primary-color); margin-bottom: 20px;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3 style="margin-bottom: 10px;">Appointment Cancelled Successfully</h3>
                        <p>Your appointment has been cancelled.</p>
                        <p style="margin-top: 20px;">A confirmation email has been sent to your registered email address.</p>
                    </div>
                `;
                
                confirmationModal.classList.add('active');
                
                // Reset form
                document.getElementById('cancel-appointment-form').reset();
            });
            
            // Initialize confirmation modal close button
            const closeConfirmation = document.getElementById('close-confirmation');
            const confirmationModal = document.getElementById('confirmation-modal');
            const confirmationModalClose = document.querySelector('#confirmation-modal .appointment-modal-close');
            
            closeConfirmation.addEventListener('click', function() {
                confirmationModal.classList.remove('active');
                // Refresh the page to show updated appointments
                // In a real application, you would update the UI without refreshing
                // window.location.reload();
            });
            
            confirmationModalClose.addEventListener('click', function() {
                confirmationModal.classList.remove('active');
            });
            
            // Utility functions
            function formatDate(dateString) {
                const date = new Date(dateString);
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                return date.toLocaleDateString('en-US', options);
            }
            
            function formatTime(timeString) {
                const [hours, minutes] = timeString.split(':');
                const hour = parseInt(hours, 10);
                const ampm = hour >= 12 ? 'PM' : 'AM';
                const hour12 = hour % 12 || 12;
                return `${hour12}:${minutes} ${ampm}`;
            }
        });
    </script>
</body>
</html>